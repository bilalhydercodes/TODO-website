<%- include('../partials/head.ejs') %>

<body>
  <%- include('../partials/navbar.ejs') %>
  <div class="page">
    <div class="container">
      <div class="page-head">
        <div>
          <h1>Blog</h1>
          <p class="subtext">Read and write blog posts.</p>
        </div>
        <a href="/blog/new" class="btn">Write a new blog</a>
      </div>

      <% if (blogs.length > 0) { %>
        <div class="notes-grid">
          <% blogs.forEach(blog => { %>
            <a href="/blog/post/<%= blog._id %>" class="note-card">
              <h3><%= blog.title %></h3>
              <p class="note-content"><%= blog.content.substring(0, 150) %>...</p>
            </a>
          <% }) %>
        </div>
      <% } else { %>
        <div class="empty">
            <div class="empty-card">
                <h3>No blog posts yet</h3>
                <p>Click the "Write a new blog" button to get started.</p>
                <a href="/blog/new" class="btn">Write a new blog</a>
            </div>
        </div>
      <% } %>
    </div>
  </div>
  <%- include('../partials/footer.ejs') %>
</body>

</html>
